{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction DriveComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 1);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 1);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 1);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 1)(8, \"input\", 4);\n    i0.ɵɵlistener(\"change\", function DriveComponent_tr_12_Template_input_change_8_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onFileSelected($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" \\u00A0 \");\n    i0.ɵɵelementStart(10, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function DriveComponent_tr_12_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const drive_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.applyToCompany(drive_r1));\n    });\n    i0.ɵɵtext(11, \" Apply \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function DriveComponent_tr_12_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const drive_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.rejectCompany(drive_r1));\n    });\n    i0.ɵɵtext(13, \" Reject \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const drive_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(drive_r1.company);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(drive_r1.skillsRequired);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(drive_r1.jobTitle);\n  }\n}\nconst _c0 = function () {\n  return [\"/viewdrive\"];\n};\nexport let DriveComponent = /*#__PURE__*/(() => {\n  class DriveComponent {\n    constructor(http) {\n      this.http = http;\n      this.companyDrives = [];\n      this.selectedFile = null;\n    }\n    ngOnInit() {\n      this.fetchCompanyDrives();\n    }\n    fetchCompanyDrives() {\n      this.http.get('http://localhost:8080/recruiter/getAllCompany').subscribe(data => {\n        this.companyDrives = data;\n      });\n    }\n    onFileSelected(event) {\n      const fileInput = event.target;\n      if (fileInput.files && fileInput.files.length > 0) {\n        this.selectedFile = fileInput.files[0];\n      }\n    }\n    applyToCompany(drive) {\n      if (this.selectedFile) {\n        const formData = new FormData();\n        formData.append('file', this.selectedFile); // File attached\n        // POST request to apply with file attached\n        alert('Application Submitted successful');\n        this.http.post(`http://localhost:8080/companydrives/apply/${drive.id}`, formData).subscribe(response => {\n          console.log('Application successful', response);\n        }, error => {\n          console.error('Error in application', error);\n        });\n      } else {\n        alert('Please select a Resume before applying.');\n      }\n    }\n    rejectCompany(drive) {\n      alert(`Rejected company: ${drive.company}`);\n      this.http.post(`http://localhost:8080/companydrives/reject/${drive.company}`, {}).subscribe(response => {\n        console.log(`Rejected company: ${drive.company}`);\n      }, error => {\n        console.error('Error rejecting company', error);\n      });\n    }\n    static {\n      this.ɵfac = function DriveComponent_Factory(t) {\n        return new (t || DriveComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DriveComponent,\n        selectors: [[\"app-drive\"]],\n        decls: 16,\n        vars: 3,\n        consts: [[2, \"border-collapse\", \"collapse\", \"width\", \"100%\", \"border\", \"1px solid black\"], [2, \"border\", \"1px solid black\", \"padding\", \"8px\"], [4, \"ngFor\", \"ngForOf\"], [2, \"border\", \"1px solid black\", \"padding\", \"8px\", 3, \"routerLink\"], [\"type\", \"file\", 2, \"margin-right\", \"5px\", 3, \"change\"], [2, \"border\", \"1px solid black\", \"padding\", \"8px\", \"margin-right\", \"5px\", 3, \"click\"], [2, \"border\", \"1px solid black\", \"padding\", \"8px\", 3, \"click\"]],\n        template: function DriveComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"table\", 0)(1, \"thead\")(2, \"tr\")(3, \"th\", 1);\n            i0.ɵɵtext(4, \"Company Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"th\", 1);\n            i0.ɵɵtext(6, \"Skills Required\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"th\", 1);\n            i0.ɵɵtext(8, \"Job Title\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"th\", 1);\n            i0.ɵɵtext(10, \"Actions (Apply/Reject)\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(11, \"tbody\");\n            i0.ɵɵtemplate(12, DriveComponent_tr_12_Template, 14, 3, \"tr\", 2);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(13, \"br\");\n            i0.ɵɵelementStart(14, \"button\", 3);\n            i0.ɵɵtext(15, \" View Applied\\n\");\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(12);\n            i0.ɵɵproperty(\"ngForOf\", ctx.companyDrives);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(2, _c0));\n          }\n        },\n        dependencies: [i2.NgForOf, i3.RouterLink]\n      });\n    }\n  }\n  return DriveComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}