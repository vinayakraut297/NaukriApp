{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nfunction ViewDriveComponent_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 1);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 1);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 1);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const drive_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(drive_r1.company);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(drive_r1.skillsRequired);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(drive_r1.jobTitle);\n  }\n}\nexport let ViewDriveComponent = /*#__PURE__*/(() => {\n  class ViewDriveComponent {\n    constructor(http) {\n      this.http = http;\n      this.companyDrives = [];\n      this.selectedFile = null;\n    }\n    ngOnInit() {\n      this.fetchCompanyDrives();\n    }\n    fetchCompanyDrives() {\n      this.http.get('http://localhost:8080/companydrives/getappliedCompany').subscribe(data => {\n        this.companyDrives = data;\n      });\n    }\n    onFileSelected(event) {\n      const fileInput = event.target;\n      if (fileInput.files && fileInput.files.length > 0) {\n        this.selectedFile = fileInput.files[0];\n      }\n    }\n    applyToCompany(drive) {\n      if (this.selectedFile) {\n        const formData = new FormData();\n        formData.append('file', this.selectedFile); // File attached\n        // POST request to apply with file attached\n        alert('Application Submitted successful');\n        this.http.post(`http://localhost:8080/companydrives/apply/${drive.id}`, formData).subscribe(response => {\n          console.log('Application successful', response);\n        }, error => {\n          console.error('Error in application', error);\n        });\n      } else {\n        alert('Please select a Resume before applying.');\n      }\n    }\n    rejectCompany(drive) {\n      alert(`Rejected company: ${drive.company}`);\n      this.http.post(`http://localhost:8080/companydrives/reject/${drive.company}`, {}).subscribe(response => {\n        console.log(`Rejected company: ${drive.company}`);\n      }, error => {\n        console.error('Error rejecting company', error);\n      });\n    }\n    static {\n      this.ɵfac = function ViewDriveComponent_Factory(t) {\n        return new (t || ViewDriveComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ViewDriveComponent,\n        selectors: [[\"app-view-drive\"]],\n        decls: 12,\n        vars: 1,\n        consts: [[2, \"border-collapse\", \"collapse\", \"width\", \"100%\", \"border\", \"1px solid black\"], [2, \"border\", \"1px solid black\", \"padding\", \"8px\"], [4, \"ngFor\", \"ngForOf\"]],\n        template: function ViewDriveComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"table\", 0)(1, \"thead\")(2, \"tr\")(3, \"th\", 1);\n            i0.ɵɵtext(4, \"Company Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"th\", 1);\n            i0.ɵɵtext(6, \"Skills Required\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"th\", 1);\n            i0.ɵɵtext(8, \"Job Title\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(9, \"tbody\");\n            i0.ɵɵtemplate(10, ViewDriveComponent_tr_10_Template, 7, 3, \"tr\", 2);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(11, \"br\");\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(10);\n            i0.ɵɵproperty(\"ngForOf\", ctx.companyDrives);\n          }\n        },\n        dependencies: [i2.NgForOf]\n      });\n    }\n  }\n  return ViewDriveComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}